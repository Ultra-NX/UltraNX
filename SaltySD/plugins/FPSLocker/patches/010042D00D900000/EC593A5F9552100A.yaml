# LEGO Star Wars: The Skywalker Saga 1.10.0
# BID: EC593A5F9552100A

unsafeCheck: true

MASTER_WRITE:
  # redirect reading Dynamic Resolution timing min & max to MAIN + 0xC3C0A50
  -
    type: asm_a64
    main_offset: 0x6171A0
    instructions: [
      [nop],
      [ldr, s3, [x11, 0xe04]],
      [fadd, s1, s1, s3],
      [adrp, x12, 0xc3c0000],
      [ldr, s2, [x12, 0xa50]]
    ]
  -
    type: asm_a64
    main_offset: 0x6171F0
    instructions: [
      [adrp, x11, 0xc3c0000],
      [ldr, s2, [x11, 0xa54]]
    ]
  # Default DR timings
  -
    type: bytes
    main_offset: 0xC3C0A50
    value_type: float
    value: [24, 31]
ALL_FPS:
  # g_video_swap_mode
  -
    type: write
    address: [MAIN, 0xAA62FF0]
    value_type: int32
    value: 2
  # Min + max dynamic resolution timing in ms
  -
    type: evaluate_write
    address: [MAIN, 0xC3C0A50]
    value_type: float
    value: ["0.72 * FRAMETIME_TARGET", "0.93 * FRAMETIME_TARGET"]

