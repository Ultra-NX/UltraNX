# Crysis Remastered 1.8.0
# BID: 45CE2B6625A35771

unsafeCheck: true

MASTER_WRITE:
  # Redirect Dynamic Resolution Timings to read always not from .text
  -
    type: asm_a64
    main_offset: 0x27CE4B4
    instructions: [
      [fmov, s0, s1]
    ]
# Redirect Dynamic Resolution Timings readings to MAIN+0x3DFAE00
  -
    type: asm_a64
    main_offset: 0x27CE450
    instructions: [
      [adrp, x13, 0x3dfa000],
      [ldr, s1, [x13, 0xe00]]
    ]
  -
    type: asm_a64
    main_offset: 0x27CE484
    instructions: [
      [adrp, x9, 0x3dfa000],
      [add, x9, x9, 0xe04]
    ]
  -
    type: asm_a64
    main_offset: 0x27CE490
    instructions: [
      [adrp, x10, 0x3dfa000],
      [add, x10, x10, 0xe0c]
    ]
  -
    type: asm_a64
    main_offset: 0x27CE468
    instructions: [
      [adrp, x8, 0x3dfa000],
      [add, x8, x8, 0xe14]
    ]
# Write default values
  # MAIN + 0x2C11728
  -
    type: bytes
    main_offset: 0x3DFAE00
    value_type: float
    value: 28.5
  # MAIN + 0x2C12B98
  -
    type: bytes
    main_offset: 0x3DFAE04
    value_type: float
    value: [32, 33]
  # MAIN + 0x2C13130
  -
    type: bytes
    main_offset: 0x3DFAE0C
    value_type: float
    value: [29.5, 32]
  # MAIN + 0x2C12EF8
  -
    type: bytes
    main_offset: 0x3DFAE14
    value_type: float
    value: [33.5, 36]
ALL_FPS:
  # sys_MaxFPS
  -
    type: evaluate_write
    address: [MAIN, 0x3CB4204]
    value_type: int32
    value: FPS_LOCK_TARGET
  # Renderer thread delay
  -
    type: write
    address: [MAIN, 0x3CCF6A0]
    value_type: float
    value: 0.01
  # MAIN + 0x2C11728
  -
    type: evaluate_write
    address: [MAIN,  0x3DFAE00]
    value_type: float
    value: "0.855 * FRAMETIME_TARGET"
  # MAIN + 0x2C12B98
  -
    type: evaluate_write
    address: [MAIN,  0x3DFAE04]
    value_type: float
    value: ["0.96 * FRAMETIME_TARGET", "0.96 * FRAMETIME_TARGET"]
  # MAIN + 0x2C13130
  -
    type: evaluate_write
    address: [MAIN,  0x3DFAE0C]
    value_type: float
    value: ["0.885 * FRAMETIME_TARGET", "0.885 * FRAMETIME_TARGET"]
  # MAIN + 0x2C12EF8
  -
    type: evaluate_write
    address: [MAIN,  0x3DFAE14]
    value_type: float
    value: ["1.005 * FRAMETIME_TARGET", "1.005 * FRAMETIME_TARGET"]
  -
    type: block
    what: timing

